#!/usr/bin/env ruby

require "fileutils"

theme = ARGV.pop
gem_name = `bundle show bullet_train-themes-#{theme}`.chomp
exit 1 if gem_name.empty? # `bundle show` already throws an error if there's no gem, so no need for a message.

file_name = case ARGV.shift
when "tailwind-config"
  "#{gem_name}/tailwind.#{theme}.config.js"
when "tailwind-stylesheet"
  "#{gem_name}/app/assets/stylesheets/#{theme}.tailwind.css"
when "javascript"
  "#{gem_name}/app/javascript/application.#{theme}.js"
end

if File.exists?(file_name)
  puts file_name
else
  raise "We couldn't find #{file_name}. Please run `bin/develop` and edit bullet_train-themes-#{theme} to configure the file manually."
end
