<% yield p = np %>

<% completion_percent ||= nil %>

<div class="py-4 px-8 w-full space-y-3">
  <div class="flex space-x-4">
    <% if p.content_for? :memberships %>
      <div class="flex-0">
        <%= p.content_for :memberships %>
      </div>
    <% end %>

    <div class="flex-1">
      <div class="flex">
        <div class="flex-1 space-y-4 py-1">
          <div>
            <%= p.content_for :title %>
          </div>
        </div>

        <% if p.content_for? :actions %>
          <div class="flex-0">
            <%= p.content_for :actions %>
          </div>
        <% end %>
      </div>

      <% if completion_percent %>
        <div class="mt-3 h-4 bg-gray-100 shadow-inner rounded w-full">
          <div class="h-4 animate-pulse bg-primary-500 rounded" style="width: <%= completion_percent %>%"></div>
        </div>
      <% end %>

      <% if p.content_for? :status %>
        <div class="<% "mt-2" if completion_percent %> uppercase text-xs text-gray-400">
          <%= p.content_for :status %>
        </div>
      <% end %>
    </div>
  </div>
</div>
